/**
 * ==========================================================
 * Filter Component Styles (SSOT)
 * ==========================================================
 *
 * 표준 폼 스타일(forms.css, button.css)과 일치하도록 설계
 * - 입력 요소: form-input 스타일 적용 (높이 36px)
 * - 버튼: btn 스타일 적용
 * - 반응형: 1023px, 767px 브레이크포인트
 *
 * Last Updated: 2026-01-06
 * ==========================================================
 */

/* ========================================
   필터 바 컨테이너
   ======================================== */

.filter-bar {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-4);
    background: var(--color-pure-white);
    border: 1px solid var(--color-gray-200);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-6);
}

.filter-bar--inline {
    padding: var(--space-3);
    margin-bottom: var(--space-4);
}

.filter-bar--compact {
    gap: var(--space-3);
    padding: var(--space-3);
}

/* 간소화 모드 (검색 + 셀렉트 조합) */
.filter-bar--simple {
    gap: var(--space-3);
    padding: var(--space-3);
}

.filter-bar--simple .filter-select {
    min-width: 120px;
}

/* ========================================
   필터 그룹 및 라벨
   ======================================== */

.filter-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.filter-group--inline {
    flex-direction: row;
    align-items: center;
    gap: var(--space-2);
}

/* form-label 스타일 일치 */
.filter-label {
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--color-gray-700);
}

/* ========================================
   검색 박스 (form-input 스타일 적용)
   ======================================== */

.filter-search {
    position: relative;
    display: flex;
    align-items: center;
    min-width: 200px;
    flex: 1;
    max-width: 320px;
}

.filter-search__icon {
    position: absolute;
    left: var(--space-3);
    color: var(--color-gray-400);
    font-size: var(--text-base);
    pointer-events: none;
}

/* form-input 스타일 일치 - 높이 36px 통일 */
.filter-search__input {
    width: 100%;
    height: 36px;
    padding: var(--space-2) var(--space-3);
    padding-left: var(--space-10);
    font-size: var(--text-sm);
    font-family: var(--font-family);
    color: var(--color-gray-800);
    background: var(--color-pure-white);
    border: 1px solid var(--color-gray-300);
    border-radius: var(--radius-md);
    box-sizing: border-box;
    transition: all var(--transition-fast);
}

.filter-search__input::placeholder {
    color: var(--color-gray-400);
}

.filter-search__input:focus {
    outline: none;
    border-color: var(--color-gray-900);
    box-shadow: var(--shadow-sm);
}

/* ========================================
   필터 셀렉트 (form-input 스타일 적용)
   ======================================== */

/* form-input 스타일 일치 - 높이 36px 통일 */
.filter-select {
    min-width: 140px;
    height: 36px;
    padding: var(--space-2) var(--space-3);
    padding-right: var(--space-8);
    font-size: var(--text-sm);
    font-family: var(--font-family);
    color: var(--color-gray-800);
    background: var(--color-pure-white);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b6b6b' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right var(--space-2) center;
    background-repeat: no-repeat;
    background-size: 1.25em 1.25em;
    border: 1px solid var(--color-gray-300);
    border-radius: var(--radius-md);
    box-sizing: border-box;
    cursor: pointer;
    appearance: none;
    transition: all var(--transition-fast);
}

.filter-select:focus {
    outline: none;
    border-color: var(--color-gray-900);
    box-shadow: var(--shadow-sm);
}

/* 다중 선택 */
.filter-select--multi {
    min-width: 160px;
    padding: var(--space-3);
    background-image: none;
}

.filter-select--multi option {
    padding: var(--space-1) var(--space-2);
}

.filter-select--multi option:checked {
    background: var(--color-primary-100);
    color: var(--color-primary-700);
}

/* 정렬 셀렉트 - 필터바 내 오른쪽 정렬 */
.filter-sort {
    margin-left: auto;
}

/* ========================================
   필터 버튼 (btn 스타일 적용)
   ======================================== */

.filter-buttons {
    display: flex;
    gap: var(--space-2);
    margin-left: auto;
}

/* btn 스타일 일치 */
.filter-submit {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2-5) var(--space-4);
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--color-pure-white);
    background: var(--color-gray-900);
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.filter-submit:hover {
    background: var(--color-gray-800);
    box-shadow: var(--shadow-md);
}

/* ========================================
   필터 토글 (모바일)
   ======================================== */

.filter-toggle {
    display: none;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2-5) var(--space-4);
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--color-gray-700);
    background: var(--color-pure-white);
    border: 1px solid var(--color-gray-300);
    border-radius: var(--radius-md);
    cursor: pointer;
}

.filter-toggle:hover {
    background: var(--color-gray-50);
    border-color: var(--color-gray-400);
}

.filter-toggle[aria-expanded="true"] {
    background: var(--color-primary-50);
    border-color: var(--color-primary-300);
    color: var(--color-primary-700);
}

/* ========================================
   필터 결과 카운트
   ======================================== */

.filter-result-count {
    display: flex;
    align-items: baseline;
    gap: var(--space-1);
    font-size: var(--text-sm);
    color: var(--color-gray-600);
}

.filter-result-count__number {
    font-weight: 600;
    color: var(--color-gray-800);
}

.filter-result-count__total {
    color: var(--color-gray-400);
}

/* ========================================
   반응형 - 태블릿 (1023px 이하)
   ======================================== */

@media (max-width: 1023px) {
    .filter-bar {
        gap: var(--space-3);
    }

    .filter-search {
        max-width: 280px;
    }

    .filter-select {
        min-width: 120px;
    }
}

/* ========================================
   반응형 - 모바일 (767px 이하)
   ======================================== */

@media (max-width: 767px) {
    .filter-toggle {
        display: inline-flex;
    }

    .filter-bar {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-3);
    }

    .filter-bar[data-collapsed="true"] {
        display: none;
    }

    .filter-bar--mobile-visible {
        display: flex;
    }

    .filter-search {
        max-width: none;
    }

    .filter-group {
        width: 100%;
    }

    .filter-select {
        width: 100%;
        min-width: auto;
    }

    .filter-buttons {
        width: 100%;
        margin-left: 0;
        justify-content: stretch;
    }

    .filter-submit {
        flex: 1;
        justify-content: center;
    }
}

/* ========================================
   접근성
   ======================================== */

@media (prefers-contrast: high) {
    .filter-select,
    .filter-search__input {
        border-width: 2px;
    }
}

@media (prefers-reduced-motion: reduce) {
    .filter-bar *,
    .filter-bar *::before,
    .filter-bar *::after {
        transition: none;
    }
}
