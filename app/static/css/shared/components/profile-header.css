/* ========================================
   Profile Header Component v3.3
   2-Column Layout (Info + Card)
   ======================================== */

/* ========================================
   CSS Variables
   ======================================== */
:root {
    /* Layout */
    --ph-padding: var(--space-6, 1.5rem);
    --ph-padding-mobile: var(--space-4, 1rem);
    --ph-radius: var(--radius-xl, 1rem);
    --ph-gap: var(--space-5, 1.25rem);
    --ph-column-gap: var(--space-6, 1.5rem);

    /* Photo - 증명사진 비율 (3:4) */
    --ph-photo-width: 100px;
    --ph-photo-height: 130px;
    --ph-photo-width-mobile: 80px;
    --ph-photo-height-mobile: 104px;
    --ph-photo-radius: 0.5rem;
}

/* ========================================
   Theme Variables (3 Account Types)
   ======================================== */

/* Corporate (Blue) - Default */
.profile-header {
    --ph-bg-start: #1e40af;
    --ph-bg-end: #3b82f6;
    --ph-accent: #93c5fd;
    --ph-text: #ffffff;
    --ph-text-secondary: rgba(255, 255, 255, 0.85);
    --ph-text-muted: rgba(255, 255, 255, 0.65);
    --ph-border: rgba(255, 255, 255, 0.15);
    --ph-surface: rgba(255, 255, 255, 0.1);
    --ph-surface-hover: rgba(255, 255, 255, 0.15);
}

/* Personal (Emerald) */
.profile-header--personal,
[data-account-type="personal"] .profile-header {
    --ph-bg-start: #047857;
    --ph-bg-end: #10b981;
    --ph-accent: #6ee7b7;
}

/* Employee Sub (Indigo) */
.profile-header--employee,
[data-account-type="employee_sub"] .profile-header {
    --ph-bg-start: #4338ca;
    --ph-bg-end: #6366f1;
    --ph-accent: #a5b4fc;
}

/* ========================================
   Main Container
   ======================================== */
.profile-header {
    background: linear-gradient(135deg, var(--ph-bg-start) 0%, var(--ph-bg-end) 100%);
    border-radius: var(--ph-radius);
    padding: var(--ph-padding);
    color: var(--ph-text);
    position: relative;
    box-shadow:
        0 4px 6px -1px rgba(0, 0, 0, 0.1),
        0 2px 4px -2px rgba(0, 0, 0, 0.1);
    margin-bottom: var(--space-6);  /* 24px - page-header 패턴 일관성 */
}

/* ========================================
   Content - 2 Column Layout
   ======================================== */
.profile-header__content {
    display: flex;
    gap: var(--ph-column-gap);
}

/* ========================================
   Column Structure
   ======================================== */
.profile-header__column {
    display: flex;
    flex-direction: column;
}

.profile-header__column--info {
    flex: 1;
    min-width: 0;
    gap: var(--space-4, 1rem);
    min-height: 180px;
}

.profile-header__column--card {
    flex-shrink: 0;
    padding-left: var(--ph-column-gap);
    border-left: 1px solid var(--ph-border);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-3, 0.75rem);
}

/* ========================================
   Row Structure
   높이 비율 3:1 (사진+정보 : stats)
   ======================================== */
.profile-header__row {
    display: flex;
    align-items: stretch;
    gap: var(--ph-gap);
    flex: 3;
}

.profile-header__row--stats {
    padding-top: var(--space-3, 0.75rem);
    border-top: 1px solid var(--ph-border);
    flex: 1;
}

/* ========================================
   Profile Photo - 증명사진 비율 (3:4)
   동적 사이징: 부모 row 높이에 맞춤
   ======================================== */
.profile-header__photo {
    width: auto;
    height: 100%;
    aspect-ratio: 3 / 4;
    min-width: var(--ph-photo-width-mobile);
    max-height: 160px;
    border-radius: var(--ph-photo-radius);
    background: var(--color-gray-200, #e5e7eb);
    border: 3px solid var(--ph-border);
    flex-shrink: 0;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
}

.profile-header__photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.profile-header__photo-initial {
    font-size: var(--text-4xl, 2.25rem);
    font-weight: 600;
    color: var(--color-gray-500, #6b7280);
}

/* ========================================
   Info Section
   ======================================== */
.profile-header__info {
    flex: 1;
    min-width: 0;
    align-self: flex-start;
}

/* Name */
.profile-header__name {
    font-size: var(--text-2xl, 1.5rem);
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: var(--space-1, 0.25rem);
}

.profile-header__name-en {
    font-size: var(--text-sm, 0.875rem);
    color: var(--ph-text-secondary);
    margin-bottom: var(--space-3, 0.75rem);
    letter-spacing: 0.02em;
}

/* Meta Info */
.profile-header__meta {
    display: flex;
    gap: var(--space-4, 1rem);
    flex-wrap: wrap;
    margin-bottom: var(--space-2, 0.5rem);
}

.profile-header__meta-item {
    display: flex;
    align-items: center;
    gap: var(--space-2, 0.5rem);
    font-size: var(--text-sm, 0.875rem);
    color: var(--ph-text-secondary);
}

.profile-header__meta-item i {
    font-size: 0.75rem;
    opacity: 0.8;
}

/* Status Badge */
.profile-header__status {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.25rem 0.625rem;
    background: var(--ph-surface);
    border: 1px solid var(--ph-border);
    border-radius: 1rem;
    font-size: var(--text-xs, 0.75rem);
    font-weight: 500;
}

.profile-header__status-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #4ade80;
}

.profile-header__status-dot--warning {
    background: #fbbf24;
}

.profile-header__status-dot--inactive {
    background: #94a3b8;
}

/* ========================================
   Stats Section (Info Column Row 2)
   1행 가로 레이아웃
   ======================================== */
.profile-header__stats {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-4, 1rem);
}

.profile-header__stat {
    display: flex;
    align-items: center;
    gap: var(--space-2, 0.5rem);
}

.profile-header__stat-label {
    font-size: var(--text-sm, 0.875rem);
    color: var(--ph-text-muted);
}

.profile-header__stat-value {
    font-size: var(--text-sm, 0.875rem);
    font-weight: 600;
}

.profile-header__stat-value--accent {
    color: var(--ph-accent);
}

/* ========================================
   Card Section (Card Column)
   ======================================== */
.profile-header__card-label {
    font-size: var(--text-xs, 0.75rem);
    color: var(--ph-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 500;
}

.profile-header__card-wrapper {
    border-radius: var(--radius-md, 0.5rem);
    overflow: hidden;
}

.profile-header__card-placeholder {
    width: 260px;
    height: 154px;
    border: 2px dashed var(--ph-border);
    border-radius: var(--radius-md, 0.5rem);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-2, 0.5rem);
    background: var(--ph-surface);
}

.profile-header__card-placeholder i {
    font-size: var(--text-xl, 1.25rem);
    color: var(--ph-text-muted);
}

.profile-header__card-placeholder span {
    font-size: var(--text-sm, 0.875rem);
    color: var(--ph-text-muted);
}

/* Card Actions */
.profile-header__card-actions {
    display: flex;
    gap: var(--space-2, 0.5rem);
}

.profile-header__card-btn {
    padding: var(--space-2, 0.5rem) var(--space-3, 0.75rem);
    border: 1px solid var(--ph-border);
    background: var(--ph-surface);
    color: var(--ph-text);
    border-radius: var(--radius-md, 0.5rem);
    font-size: var(--text-xs, 0.75rem);
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s ease;
    display: flex;
    align-items: center;
    gap: var(--space-1, 0.25rem);
}

.profile-header__card-btn:hover {
    background: var(--ph-surface-hover);
}

/* ========================================
   No Card Variant
   ======================================== */
.profile-header--no-card .profile-header__column--card {
    display: none;
}

.profile-header--no-card .profile-header__column--info {
    max-width: 100%;
}

/* ========================================
   Compact Variant
   ======================================== */
.profile-header--compact {
    padding: var(--space-4, 1rem);
}

.profile-header--compact .profile-header__photo {
    width: 70px;
    height: 91px;
}

.profile-header--compact .profile-header__name {
    font-size: var(--text-lg, 1.125rem);
}

.profile-header--compact .profile-header__row--stats,
.profile-header--compact .profile-header__stats {
    display: none;
}

.profile-header--compact .profile-header__column--card {
    display: none;
}

/* ========================================
   Responsive - Tablet
   ======================================== */
@media (max-width: 1024px) {
    .profile-header__content {
        flex-direction: column;
    }

    .profile-header__column--card {
        padding-left: 0;
        padding-top: var(--space-4, 1rem);
        border-left: none;
        border-top: 1px solid var(--ph-border);
        flex-direction: row;
        justify-content: center;
        flex-wrap: wrap;
    }

    .profile-header__card-placeholder {
        width: 240px;
        height: 142px;
    }
}

/* ========================================
   Responsive - Mobile
   ======================================== */
@media (max-width: 640px) {
    .profile-header {
        padding: var(--ph-padding-mobile);
    }

    .profile-header__row {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .profile-header__photo {
        width: auto;
        height: 100%;
        min-width: 60px;
        max-width: var(--ph-photo-width-mobile);
    }

    .profile-header__meta {
        justify-content: center;
    }

    .profile-header__stats {
        justify-content: center;
    }

    .profile-header__card-placeholder {
        width: 100%;
        max-width: 240px;
        height: auto;
        aspect-ratio: 1.686;
    }
}

/* ========================================
   BusinessCard Component Integration
   명함 컴포넌트 (_card.html) 통합 스타일
   ======================================== */

/* 명함 래퍼 내 카드 컴포넌트 조정 */
.profile-header__card-wrapper .business-card {
    /* 크기 조정 (md 사이즈) */
    --card-width: 260px;
    --card-height: 154px;
}

.profile-header__card-wrapper .business-card-container {
    width: 260px;
    height: 154px;
}

/* 명함 플립 힌트 */
.profile-header__card-wrapper .flip-hint {
    display: block;
    text-align: center;
    font-size: var(--text-xs, 0.75rem);
    color: var(--ph-text-muted);
    margin-top: var(--space-2, 0.5rem);
}

.profile-header__card-wrapper .flip-hint i {
    margin-right: var(--space-1, 0.25rem);
}

/* 태블릿 반응형 */
@media (max-width: 1024px) {
    .profile-header__card-wrapper .business-card-container {
        width: 240px;
        height: 142px;
    }
}

/* 모바일 반응형 */
@media (max-width: 640px) {
    .profile-header__card-wrapper .business-card-container {
        width: 100%;
        max-width: 240px;
        height: auto;
        aspect-ratio: 1.686;
    }
}

/* ========================================
   Motion Reduce
   ======================================== */
@media (prefers-reduced-motion: reduce) {
    .profile-header__card-btn {
        transition: none;
    }
}
