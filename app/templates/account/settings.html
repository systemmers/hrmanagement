{% extends "base.html" %}

{% block title %}계정 설정 - 인사카드 관리 시스템{% endblock %}

{% block content %}
<div class="page-header">
    <div class="page-title-section">
        <h2 class="page-title">
            <i class="fas fa-cog"></i>
            계정 설정
        </h2>
        <p class="page-subtitle">계정 정보 및 설정을 관리합니다</p>
    </div>
</div>

<div class="content-grid">
    <div class="content-card">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-user"></i>
                계정 정보
            </h3>
        </div>
        <div class="card-body">
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-label">사용자명</div>
                    <div class="info-value">{{ user.username }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">이메일</div>
                    <div class="info-value">{{ user.email or '미등록' }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">계정 유형</div>
                    <div class="info-value">
                        {% if user.account_type == 'personal' %}
                        <span class="badge badge-info">개인 계정</span>
                        {% elif user.account_type == 'corporate' %}
                        <span class="badge badge-primary">법인 계정</span>
                        {% else %}
                        <span class="badge badge-secondary">{{ user.account_type or '일반' }}</span>
                        {% endif %}
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-label">역할</div>
                    <div class="info-value">
                        {% if user.role == 'admin' %}
                        <span class="badge badge-danger">관리자</span>
                        {% elif user.role == 'manager' %}
                        <span class="badge badge-warning">매니저</span>
                        {% else %}
                        <span class="badge badge-secondary">{{ user.role or '일반' }}</span>
                        {% endif %}
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-label">가입일</div>
                    <div class="info-value">{{ user.created_at.strftime('%Y-%m-%d') if user.created_at else '정보 없음' }}</div>
                </div>
                {% if employee %}
                <div class="info-item">
                    <div class="info-label">연결된 직원</div>
                    <div class="info-value">{{ employee.name }} ({{ employee.department or '부서 미지정' }})</div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="content-card">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-cogs"></i>
                설정 메뉴
            </h3>
        </div>
        <div class="card-body">
            <div class="settings-menu">
                <a href="{{ url_for('account.password') }}" class="settings-menu-item">
                    <div class="settings-menu-icon">
                        <i class="fas fa-key"></i>
                    </div>
                    <div class="settings-menu-content">
                        <div class="settings-menu-title">비밀번호 변경</div>
                        <div class="settings-menu-desc">계정 비밀번호를 변경합니다</div>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </a>
                <a href="{{ url_for('account.privacy') }}" class="settings-menu-item">
                    <div class="settings-menu-icon">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <div class="settings-menu-content">
                        <div class="settings-menu-title">개인정보 공개 설정</div>
                        <div class="settings-menu-desc">정보 공개 범위를 설정합니다</div>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </a>
                <a href="{{ url_for('account.delete') }}" class="settings-menu-item settings-menu-danger">
                    <div class="settings-menu-icon">
                        <i class="fas fa-user-times"></i>
                    </div>
                    <div class="settings-menu-content">
                        <div class="settings-menu-title">계정 탈퇴</div>
                        <div class="settings-menu-desc">계정을 탈퇴하고 데이터를 삭제합니다</div>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
