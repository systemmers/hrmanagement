{#
    회사 인사카드 페이지

    법인 직원이 자신의 회사 관련 인사정보를 조회하는 페이지입니다.
    파셜 템플릿을 include하여 profile/detail.html과 동일한 구조를 유지합니다.

    컨텍스트 변수:
    - employee: 직원 객체
    - page_mode: 'hr_card' (법인 전용 섹션 표시)
    - salary, benefit, contract, insurance: 급여/복리후생 데이터
    - education_list, career_list 등: 이력 데이터
    - salary_history_list, promotion_list 등: 인사기록 데이터
#}
{% extends "shared/base.html" %}

{% block title %}회사 인사카드 - {{ employee.name }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/shared/layouts/section-nav.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/shared/layouts/right-sidebar.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/shared/components/attachment.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/domains/attachment/index.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/shared/components/profile-header.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/domains/businesscard/card.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/shared/components/card.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/shared/components/table.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/domains/employee/detail.css') }}">
{% endblock %}

{% block content %}
{# 내부 섹션 네비게이션 제거 - 사이드바로 통합 (2026-01-12) #}
<div class="detail-page-layout detail-page-layout--no-sidebar-nav">
    {# 메인 콘텐츠 #}
    <div class="detail-main-content">
        {# 페이지 헤더 #}
        <div class="detail-page-header">
            <h1 class="detail-page-title">회사 인사카드</h1>
        </div>

        {# 직원 헤더 카드 - Profile Header v3.3 #}
        {% include 'shared/partials/_profile_header.html' %}

        {# 섹션 1-7: 기본정보 (개인정보, 소속정보, 계약정보, 급여정보, 복리후생, 4대보험, 가족정보) #}
        {% include 'domains/employee/partials/detail/_basic_info.html' %}

        {# 섹션 8-14: 이력 및 경력 (학력, 경력, 자격증, 언어능력, 병역, 수상, 프로젝트) #}
        {% include 'domains/employee/partials/detail/_history_info.html' %}

        {# 섹션 15-17: 인사기록 (근로계약/연봉, 인사이동/고과, 근태/비품) #}
        {% include 'domains/employee/partials/detail/_hr_records.html' %}
    </div>
</div>

{# 모바일 섹션 네비게이션 토글 버튼 #}
<button class="mobile-section-nav-toggle" id="mobileNavToggle">
    <i class="fas fa-bars"></i>
</button>

{# 모바일 오버레이 #}
<div class="section-nav-overlay" id="sectionNavOverlay"></div>
{% endblock %}

{% block sidebar_right %}
{# 첨부파일 사이드바 (조회 전용) #}
{% include 'shared/partials/_attachment_sidebar.html' %}
{% endblock %}

{% block extra_js %}
{# QR코드 라이브러리 (명함 도메인) #}
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script type="module" src="{{ url_for('static', filename='js/domains/employee/pages/detail.js') }}"></script>
<script src="{{ url_for('static', filename='js/domains/employee/components/business-card.js') }}"></script>
{% endblock %}
