{#
    직원 폼 - 자격증 섹션 (동적 폼)
    Phase 9: FieldRegistry 필드명 동기화
    employee: 직원 객체 (수정 모드일 때)
#}
<section class="form-section" id="certificate-info">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">
                <i class="fas fa-certificate"></i>
                자격증 및 면허
            </h2>
            <button type="button" class="btn btn-sm btn-secondary" id="addCertificate">
                <i class="fas fa-plus"></i> 추가
            </button>
        </div>
        <div class="card-body">
            <div class="dynamic-list" id="certificateList">
                {% if employee and employee.certificates %}
                    {% for cert in employee.certificates %}
                    <div class="dynamic-item" data-index="{{ loop.index0 }}">
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">자격증명</label>
                                <input type="text" name="certificate_name[]" class="form-input"
                                       value="{{ cert.certificate_name if cert.certificate_name else (cert.name if cert.name else '') }}" placeholder="정보처리기사">
                            </div>
                            <div class="form-group">
                                <label class="form-label">발급기관</label>
                                <input type="text" name="certificate_issuing_organization[]" class="form-input"
                                       value="{{ cert.issuing_organization if cert.issuing_organization else '' }}" placeholder="한국산업인력공단">
                            </div>
                            <div class="form-group">
                                <label class="form-label">등급/점수</label>
                                <input type="text" name="certificate_grade[]" class="form-input"
                                       value="{{ cert.grade if cert.grade else '' }}" placeholder="1급, 900점">
                            </div>
                            <div class="form-group">
                                <label class="form-label">취득일</label>
                                <input type="date" name="certificate_acquisition_date[]" class="form-input"
                                       value="{{ cert.acquisition_date if cert.acquisition_date else '' }}">
                            </div>
                            <div class="form-group">
                                <label class="form-label">자격번호</label>
                                <input type="text" name="certificate_number[]" class="form-input"
                                       value="{{ cert.certificate_number if cert.certificate_number else '' }}" placeholder="자격번호">
                            </div>
                            <div class="form-group">
                                <label class="form-label">만료일</label>
                                <input type="date" name="certificate_expiry_date[]" class="form-input"
                                       value="{{ cert.expiry_date if cert.expiry_date else '' }}">
                            </div>
                        </div>
                        <button type="button" class="btn-remove" title="삭제">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    {% endfor %}
                {% else %}
                <div class="dynamic-item" data-index="0">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">자격증명</label>
                            <input type="text" name="certificate_name[]" class="form-input" placeholder="정보처리기사">
                        </div>
                        <div class="form-group">
                            <label class="form-label">발급기관</label>
                            <input type="text" name="certificate_issuing_organization[]" class="form-input" placeholder="한국산업인력공단">
                        </div>
                        <div class="form-group">
                            <label class="form-label">등급/점수</label>
                            <input type="text" name="certificate_grade[]" class="form-input" placeholder="1급, 900점">
                        </div>
                        <div class="form-group">
                            <label class="form-label">취득일</label>
                            <input type="date" name="certificate_acquisition_date[]" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label">자격번호</label>
                            <input type="text" name="certificate_number[]" class="form-input" placeholder="자격번호">
                        </div>
                        <div class="form-group">
                            <label class="form-label">만료일</label>
                            <input type="date" name="certificate_expiry_date[]" class="form-input">
                        </div>
                    </div>
                    <button type="button" class="btn-remove" title="삭제">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>
