{#
    직원 폼 - 수상내역 섹션 (동적 폼)
    Phase 9: FieldRegistry 필드명 동기화
    employee: 직원 객체 (수정 모드일 때)
    award_list: 수상내역 목록 (개인 프로필용)
#}
<section class="form-section" id="award-info">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">
                <i class="fas fa-trophy"></i>
                수상내역
            </h2>
            <button type="button" class="btn btn-sm btn-secondary" id="addAward">
                <i class="fas fa-plus"></i> 추가
            </button>
        </div>
        <div class="card-body">
            <div class="dynamic-list" id="awardList">
                {# award_list 우선 사용, 없으면 employee.awards 사용 (리스트/관계 모두 반복 가능) #}
                {% set awards = award_list if award_list is defined and award_list else (employee.awards if employee and employee.awards else []) %}
                {% if awards %}
                    {% for award in awards %}
                    <div class="dynamic-item" data-index="{{ loop.index0 }}">
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">수상명 <span class="required">*</span></label>
                                <input type="text" name="award_name[]" class="form-input"
                                       value="{{ award.award_name }}" placeholder="수상명" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">수상일</label>
                                <input type="date" name="award_date[]" class="form-input"
                                       value="{{ award.award_date }}">
                            </div>
                            <div class="form-group">
                                <label class="form-label">수여기관</label>
                                <input type="text" name="award_issuer[]" class="form-input"
                                       value="{{ award.issuer or award.institution or '' }}" placeholder="수여기관">
                            </div>
                            <div class="form-group form-group-full">
                                <label class="form-label">비고</label>
                                <textarea name="award_note[]" class="form-input" rows="2"
                                          placeholder="수상 내용 및 비고">{{ award.note or award.description or '' }}</textarea>
                            </div>
                        </div>
                        <button type="button" class="btn-remove" title="삭제">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    {% endfor %}
                {% else %}
                <div class="dynamic-item" data-index="0">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">수상명 <span class="required">*</span></label>
                            <input type="text" name="award_name[]" class="form-input" placeholder="수상명">
                        </div>
                        <div class="form-group">
                            <label class="form-label">수상일</label>
                            <input type="date" name="award_date[]" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label">수여기관</label>
                            <input type="text" name="award_issuer[]" class="form-input" placeholder="수여기관">
                        </div>
                        <div class="form-group form-group-full">
                            <label class="form-label">비고</label>
                            <textarea name="award_note[]" class="form-input" rows="2"
                                      placeholder="수상 내용 및 비고"></textarea>
                        </div>
                    </div>
                    <button type="button" class="btn-remove" title="삭제">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>
