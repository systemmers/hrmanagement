{% extends 'base.html' %}

{% block title %}법인 관리자 프로필 생성 - HR Management{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/register.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/admin-profile.css') }}">
{% endblock %}

{% block content %}
<div class="admin-profile-form">
    <div class="admin-profile-form__header">
        <h1 class="admin-profile-form__title">법인 관리자 프로필 생성</h1>
        <p class="admin-profile-form__subtitle">프로필 정보를 입력하여 서비스를 시작하세요</p>
    </div>

    <!-- Flash 메시지 -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert--{{ category }}" style="margin-bottom: var(--spacing-4);">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" class="admin-profile-form__form">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <!-- 기본 정보 섹션 -->
        <div class="admin-profile-form__section">
            <h3 class="admin-profile-form__section-title">
                <i class="fas fa-user"></i> 기본 정보
            </h3>

            <div class="admin-profile-form__row">
                <div class="admin-profile-form__group">
                    <label for="name" class="admin-profile-form__label">
                        이름 <span class="text-error-500">*</span>
                    </label>
                    <input type="text"
                           id="name"
                           name="name"
                           class="admin-profile-form__input"
                           placeholder="홍길동"
                           value="{{ form_data.get('name', '') }}"
                           required>
                </div>

                <div class="admin-profile-form__group">
                    <label for="english_name" class="admin-profile-form__label">
                        영문 이름
                    </label>
                    <input type="text"
                           id="english_name"
                           name="english_name"
                           class="admin-profile-form__input"
                           placeholder="Gil Dong Hong"
                           value="{{ form_data.get('english_name', '') }}">
                </div>
            </div>

            <div class="admin-profile-form__row">
                <div class="admin-profile-form__group">
                    <label for="position" class="admin-profile-form__label">
                        직책
                    </label>
                    <input type="text"
                           id="position"
                           name="position"
                           class="admin-profile-form__input"
                           placeholder="대표이사, CEO, CFO 등"
                           value="{{ form_data.get('position', '') }}">
                </div>

                <div class="admin-profile-form__group">
                    <label for="department" class="admin-profile-form__label">
                        소속 부서
                    </label>
                    <input type="text"
                           id="department"
                           name="department"
                           class="admin-profile-form__input"
                           placeholder="경영지원팀"
                           value="{{ form_data.get('department', '') }}">
                </div>
            </div>
        </div>

        <!-- 연락처 정보 섹션 -->
        <div class="admin-profile-form__section">
            <h3 class="admin-profile-form__section-title">
                <i class="fas fa-phone"></i> 연락처 정보
            </h3>

            <div class="admin-profile-form__row">
                <div class="admin-profile-form__group">
                    <label for="mobile_phone" class="admin-profile-form__label">
                        휴대전화
                    </label>
                    <input type="tel"
                           id="mobile_phone"
                           name="mobile_phone"
                           class="admin-profile-form__input"
                           placeholder="010-0000-0000"
                           value="{{ form_data.get('mobile_phone', '') }}">
                </div>

                <div class="admin-profile-form__group">
                    <label for="office_phone" class="admin-profile-form__label">
                        사무실 전화
                    </label>
                    <input type="tel"
                           id="office_phone"
                           name="office_phone"
                           class="admin-profile-form__input"
                           placeholder="02-0000-0000"
                           value="{{ form_data.get('office_phone', '') }}">
                </div>
            </div>

            <div class="admin-profile-form__group">
                <label for="email" class="admin-profile-form__label">
                    이메일
                </label>
                <input type="email"
                       id="email"
                       name="email"
                       class="admin-profile-form__input"
                       placeholder="admin@company.com"
                       value="{{ form_data.get('email', '') or user.email }}">
            </div>
        </div>

        <!-- 소개 섹션 -->
        <div class="admin-profile-form__section">
            <h3 class="admin-profile-form__section-title">
                <i class="fas fa-comment"></i> 소개
            </h3>

            <div class="admin-profile-form__group">
                <label for="bio" class="admin-profile-form__label">
                    간략한 소개
                </label>
                <textarea id="bio"
                          name="bio"
                          class="admin-profile-form__textarea"
                          placeholder="간략한 자기소개를 입력하세요">{{ form_data.get('bio', '') }}</textarea>
            </div>
        </div>

        <!-- 버튼 -->
        <div class="admin-profile-form__actions">
            <a href="{{ url_for('main.index') }}" class="admin-profile-form__btn admin-profile-form__btn--secondary">
                취소
            </a>
            <button type="submit" class="admin-profile-form__btn admin-profile-form__btn--primary">
                <i class="fas fa-check"></i> 프로필 생성
            </button>
        </div>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<!-- JS: utils/formatting.js - 전화번호 자동 포맷팅 (DOMContentLoaded 시 자동 초기화) -->
<script src="{{ url_for('static', filename='js/utils/formatting.js') }}"></script>
{% endblock %}
