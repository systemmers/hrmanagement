
AIzaSyCs-KuzV3vZ4yl8TUNHOj0dGtLV30JwrDE
---

# git master id
- --commit --branch-new "hrm-projekt-19" --push
- hrm-projekt_15
- hrm-projket-17
- hrm-projket-18
- hrm-projket-20
---
# rules

- 중앙화(Centralization)
- 일반화(Generalization)
- 코드 중복, 중첩 금지
- 코드 재활용
- 하드, 인라인 코딩금지
- 네이밍, 네이밍 스페이스
- 컨벤션 준수
- 구조화
- 스타일 일관성 준수
- 지시한 것만 진행
- 다른 코드에 영향을 주지말것
- 코드 및 클래스 중복 

# rememeber 
- 최대한 분할 작업
- 레거시 파일 및 코드 정리
- git > plan > implement > test > debugging
- db 마이그레이션
- 스크린샷, test --play, 비교
- 패턴

- 

---
# today working
- docs 정리
- 리팩토링 구조화
- 기능개발
    - 
- debugging
- 개선 수정
    - employee 폴더 통합으로 처리외, 리스트트

- 독립 스타일 
- 현재 특징을 잘반영하여 tokken 을 활용하여 열열

--- 



---




# action, demand, prompt

1. employee 폴더 처리
해당 폴더를 통합 템플릿으로 포함한다. 리스트는 도메인중 하나이기 때문에 도메인으로 분류 하여관리.
통합으로 하되 현재 기본정보와 이력정보고 나눠진 것으로 통합되는 프로필 로통합할 것인지 기존 통합 템플릿을 기본정보와 이력정보로 나누는 방법을 모두 제안하여라. 

2. 개인 계정과 직원 계정의 템플릿 통합 작업

**목표**: 개인 계정(personal)과 직원 계정(corporate employee)의 템플릿 구조를 통합하고 일관성 있게 재구성

**작업 내용**:
- 개인 계정의 템플릿 구조를 기준(baseline)으로 설정
- 직원 계정의 사이드바 및 섹션 구성을 개인 계정과 동일하게 통일
- 현재 직원 계정 사이드바에 포함된 법인 관련 섹션 제거 (법인 전용 섹션은 법인 관리자 계정에만 표시)
- 개인 계정 사이드바에 "회사 인사카드" 섹션 추가 (직원 계정과 동일한 기능)
- 양쪽 계정 모두에 "계정 관리" 섹션 추가

**참고 파일**:
- `app/templates/profile/edit.html` (개인 계정 기준 템플릿)
- `app/templates/mypage/company_info.html` (직원 계정의 회사 인사카드)
- `macros/_navigation.html` (섹션 네비게이션 매크로)

**기대 결과**:
- 개인 계정과 직원 계정의 UI/UX 일관성 확보
- 계정 유형(account_type)에 따른 조건부 렌더링으로 템플릿 재사용성 향상
- 중복 코드 제거 및 유지보수성 개선




3. list.html > corporate 
- 도메인으로 이동 처리.
- employee 폴더 삭제




4. 

개인
@프로필
프로필 헤드 스타일
기본정보섹션 법인관련 정보 제외(내선번호,  회사이메일
실제 거주상주소 > 전체공통
혈액형 및 기타 빠진 항목 추가
수정페이지도 반영
수정 명함업로드 기능 제외
병역/ 프로젝트 / 수상섹션을 각 섹션으로 분하고 추가
현재 병역 섹션만 등록
네비게이션 섹션 타이틀적용
공개설정 > 사이드바 공개설정으로 이동 

법인 개인
프로필 개인 프로필 섹션구성과 헤드 스타일과 구성을 동일하게 하여라. 
기본정보 필드 구성도 동일하게 한다. 수정 페이지도 동일


 기본정보 필드 목표

 | 필드           | 상세 | 수정     | 개인 | 법인 |
 |----------------|------|----------|------|------|
 | 성명           | O    | O        | O    | O    |
 | 영문이름       | O    | O        | O    | O    |
 | 주민등록번호   | O    | O        | O    | O    |
 | 생년월일       | O    | O        | O    | O    |
 | 성별           | O    | O        | O    | O    |
 | 결혼여부       | O    | - (파생) | O    | O    |
 | 휴대전화       | O    | O        | O    | O    |
 | 내선번호       | O    | O        | X    | O    |
 | 개인이메일     | O    | O        | O    | O    |
 | 회사이메일     | O    | O        | X    | O    |
 | 비상연락처     | O    | O        | O    | O    |
 | 비상연락처관계 | O    | O        | O    | O    |
 | 주소           | O    | O        | O    | O    |
 | 상세주소       | O    | O        | O    | O    |
 | 혈액형         | O    | O        | O    | O    |
 | 종교           | O    | O        | O    | O    |
 | 취미           | O    | O        | O    | O    |
 | 특기           | O    | O        | O    | O    |
 | 장애정보       | O    | O        | O    | O    |
 | 실제거주주소   | O    | O        | O    | O    |

 섹션 목표

 | 섹션         | 상세 | 수정 | 개인 | 법인 |
 |--------------|------|------|------|------|
 | 개인기본정보 | O    | O    | O    | O    |
 | 소속정보     | O    | O    | X    | O    |
 | 계약정보     | O    | O    | X    | O    |
 | 급여정보     | O    | O    | X    | O    |
 | 복리후생     | O    | -    | X    | O    |
 | 4대보험      | O    | O    | X    | O    |
 | 가족정보     | O    | O    | X    | O    |
 | 학력정보     | O    | O    | O    | O    |
 | 경력정보     | O    | O    | O    | O    |
 | 자격증       | O    | O    | O    | O    |
 | 언어능력     | O    | O    | O    | O    |
 | 병역정보     | O    | O    | O    | O    |
 | 프로젝트     | O    | O    | X    | O    |
 | 수상내역     | O    | O    | O    | O    |


 법인도 개인에 기본정보와 섹션 목표에 동일하게 맞추어라. 
 여기서 법인은 법인 직원이기 때문에 동일한 조건으로 한다.
 소속정보외 법인과 관련된 것은 인사카드에 등록되어 있으면된다.
 프로필에는 회사와 관련없는 정보만 있어야한다.
 복리 후생 섹션은 수정에 표시하되 수정불가로 표기하여라. 해당 섹션은 관리자가 수정하기 때문에 우선 수정불가로 하되 수정에 등록하여라.
 그리고 전체 내선번호 및 회사 이메일은 소속정보에 귀속시켜라



 | 필드           | 상세 | 수정     | 비고               |
 |----------------|------|----------|--------------------|
 | 성명           | O    | O        |                    |
 | 영문이름       | O    | O        |                    |
 | 주민등록번호   | O    | O        |                    |
 | 생년월일       | O    | O        |                    |
 | 성별           | O    | O        |                    |
 | 결혼여부       | O    | - (파생) | family_list로 파생 |
 | 휴대전화       | O    | O        |                    |
 | 내선번호       | X    | X        | 소속정보로 이동    |
 | 개인이메일     | O    | O        |                    |
 | 회사이메일     | X    | X        | 소속정보로 이동    |
 | 비상연락처     | O    | O        |                    |
 | 비상연락처관계 | O    | O        |                    |
 | 주소(주민등록) | O    | O        |                    |
 | 상세주소       | O    | O        |                    |
 | 혈액형         | O    | O        | 신규               |
 | 종교           | O    | O        | 신규               |
 | 취미           | O    | O        | 신규               |
 | 특기           | O    | O        | 신규               |
 | 장애정보       | O    | O        | 신규               |
 | 실제거주주소   | O    | O        | 신규               |

 프로필 섹션 구조 (개인/법인 동일)

 | 섹션         | 상세 | 수정 | 위치   | 비고           |
 |--------------|------|------|--------|----------------|
 | 개인기본정보 | O    | O    | 프로필 | 개인정보만     |
 | 학력정보     | O    | O    | 프로필 |                |
 | 경력정보     | O    | O    | 프로필 |                |
 | 자격증       | O    | O    | 프로필 |                |
 | 언어능력     | O    | O    | 프로필 |                |
 | 병역정보     | O    | O    | 프로필 | 별도 섹션 분리 |
 | 수상내역     | O    | O    | 프로필 | 별도 섹션 분리 |

 인사카드 전용 섹션 (법인만, 별도 페이지)

 | 섹션     | 상세 | 수정         | 비고                      |
 |----------|------|--------------|---------------------------|
 | 소속정보 | O    | O (관리자)   | 내선번호, 회사이메일 포함 |
 | 계약정보 | O    | O (관리자)   |                           |
 | 급여정보 | O    | O (관리자)   |                           |
 | 복리후생 | O    | O (readonly) | 수정불가 표시             |
 | 4대보험  | O    | O (관리자)   |                           |
 | 가족정보 | O    | O            |                           |
 | 프로젝트 | O    | O            |                           |
 | 인사기록 | O    | -            | 근로계약, 인사이동 등     |

 병역정보 필드 목표

 | 필드           | 상세 | 수정 |
 |----------------|------|------|
 | 병역구분       | O    | O    |
 | 군별           | O    | O    |
 | 복무기간(시작) | O    | O    |
 | 복무기간(종료) | O    | O    |
 | 계급           | O    | O    |
 | 보직           | O    | O    |
 | 병과           | O    | O    |
 | 면제사유       | O    | O    |

 5. 리스크 감소를 위해 task를 우선 순위와 작업그룹화 및 테스크 분할하여 워크플로우를 계획하여라. 
- 가족정보는 프로필섹션으로 이동하여라. 


사이드바. 네이게이션, 섹션, 섹션내 필드 / 상세, 수정  항목및 필드, 법인, 법인개인, 개인



6. 
> 섹션구성을 다시 비교하여라 션션구성이 동일하지 않다. 여전히 법인 직원의 프로필에 인사기록 섹션 및 법인 관련 섹션이 있다. 그리고 프로필인데 인사카드로 되어 있다. 검토하여 피드백하여라.


 현재 상태 (잘못됨)

 | 항목       | /profile (법인 직원)      | /employees/<id> |
 |------------|---------------------------|-----------------|
 | 타이틀     | "인사카드"                | "인사카드"      |
 | 네비게이션 | variant='full' (인사카드) | variant='full'  |
 | 소속정보   | 표시                      | 표시            |
 | 계약정보   | 표시                      | 표시            |
 | 급여정보   | 표시                      | 표시            |
 | 복리후생   | 표시                      | 표시            |
 | 4대보험    | 표시                      | 표시            |
 | 인사기록   | 표시                      | 표시            |
 | 프로젝트   | 표시                      | 표시            |

 목표 상태 (올바름)

 | 항목         | /profile (개인/법인 동일) | /employees/<id> (인사카드) |
 |--------------|---------------------------|----------------------------|
 | 타이틀       | "프로필"                  | "인사카드"                 |
 | 네비게이션   | variant='profile'         | variant='full'             |
 | 소속정보     | 미표시                    | 표시                       |
 | 계약정보     | 미표시                    | 표시                       |
 | 급여정보     | 미표시                    | 표시                       |
 | 복리후생     | 미표시                    | 표시                       |
 | 4대보험      | 미표시                    | 표시                       |
 | 인사기록     | 미표시                    | 표시                       |
 | 프로젝트     | 미표시                    | 표시                       |
 | 프로필 공통  |                           |                            |
 | 개인기본정보 | 표시                      | 표시                       |
 | 가족정보     | 표시                      | 표시                       |
 | 학력정보     | 표시                      | 표시                       |
 | 경력정보     | 표시                      | 표시                       |
 | 자격증       | 표시                      | 표시                       |
 | 언어능력     | 표시                      | 표시                       |
 | 병역정보     | 표시                      | 표시                       |
 | 수상내역     | 표시                      | 표시                       |





개인 계정
인사카드 상세에 헤드가 없다. 추가하여라.
프로필에 상세에 실거주지 필드가 누락, 수정에는 있음

법인 직원계정
프로필 헤드와 회사 인사카드 헤드가 바꼈다. 

그리고 각 두계정의 각 섹션의 필으정보리스트를 모두 출력비교하여라.



---
해당 분석을 계획에 추가하고 
해당 아래 내용도 분석하여라라
헤드 카드를 프로필과 인사카드 두 곳을 변경하는 계획인가. 두곳이 바꼈기 떄문에 둘다 변경해야함.
두 계정 인사카드 섹션과 필드 항목을 비교하여라.
개인 인사카드의 섹션과 필드 항목이 누락되어 있다.
인사 고과외 비품 등등




----

현재 검토한 결과 
개인계정 인사카드의 헤드에 프로필용 헤드를 적용했으며,
헤드의 필드와 값이 연결이 되어 있지 않다. 
그리고 소속정봏 및 계약정보외 섹션의 필드의 정보가 모두 구성되지 않았다.

법인 계정은 프로필과 인사카드의 헤드가 변경되지 않았으며,
프로필의 개인용으로 섹션이 정리되지 않았다. 
그리고 법인 계정의 인사카드는 company_info.html 사용하는 것으로 판단되어 적용이 되지 않았다고 판단된다. 

또한 소속정보 및 계약정보등 섹션의 필드 정보의 수가 맞지 않다.
다시 비교하여 검증하여라.

이전 작업한 내용과 비교하여 다시 피드백하여라.


---

3 번항목의 개인 인사카드에 미구현된 것은 확인상 구현되어 있다. 다시 비교검토하여ㅏ. 

company_info.html로 통합에 대하여 분석 검증하고 따로 존재할 필요가 있는지 필요성에 대하여 확인하여라.
즉 해당 파일을 통합에 대한 계획을 검증하여라. 

그리고 법인 직원 프로필에 상세에 법인 관련 섹션이 노출되고 있다. 수정 페이지에는 없음
상세페이와 수정 섹션순서가 다르다. > 두 계정모두 



---




 2.1 섹션별 표시 조건

 | 섹션 | 섹션명           | 개인 (profile) | 법인 (hr_card) |
 |------|------------------|----------------|----------------|
 | 1    | 개인 기본정보    | O              | O              |
 | 2    | 소속정보         | X              | O              |
 | 3    | 계약정보         | X              | O              |
 | 4    | 급여정보         | X              | O              |
 | 5    | 연차 및 복리후생 | X              | O              |
 | 6    | 4대보험          | X              | O              |
 | 7    | 가족정보         | O              | O              |


 법인계정과 법인 직원계정의 프로필 섹션 조건은 틀리다. 조건과 섹션을 공유하는지 검토하여라. 계속 법인 직원 프로필에 소식정보외 계약정보 등 법인 전용섹션이 제거되지 않는다. 그리고 만을 함께 조건을 공유한다면 분리하고 조건을 개인계정 조건과 동일하게 해서 섹션을 개인에 관한 섹션조건을 갖추어야 한다. 
 그리고 모든 상세페이지와 수정페이지의 필드 칼럼수가 같도록 해야한다. 이에 비교 차이를 분석하여라.


  3.1 섹션별 표시 조건

 | 섹션 | 섹션명            | 개인 (profile) | 법인 (hr_card) |
 |------|-------------------|----------------|----------------|
 | 7    | 학력정보          | O              | O              |
 | 8    | 경력정보          | O              | O              |
 | 9    | 자격증 및 면허    | O              | O              |
 | 10   | 언어능력          | O              | O              |
 | 11   | 병역정보          | O              | O              |
 | 12   | 수상내역          | O              | O              |
 | 13   | 유사사업 참여경력 | X              | O              |

 
 3.8 섹션 13: 유사사업 참여경력 (법인 전용 테이블)

 | 컬럼명    | 데이터 소스                   | 개인 | 법인 |
 |-----------|-------------------------------|------|------|
 | 사업명    | project.project_name          | X    | O    |
 | 참여기간  | project.start_date ~ end_date | X    | O    |
 | 기간      | project.duration              | X    | O    |
 | 담당업무  | project.duty                  | X    | O    |
 | 역할/직책 | project.role                  | X    | O    |
 | 발주처    | project.client                | X    | O    |




---



   구현 우선순위 요약

  | 순위 | 개선사항                 | 난이도 | 영향도 |
  |------|--------------------------|--------|--------|
  |  1   | 불필요한 섹션 숨김       |  낮음  |  높음  |
  |  2   | 이력 데이터 조회 추가    |  중간  |  높음  |
  |  3   | 명시적 None 전달         |  낮음  |  중간  |
  |  4   | ViewModel 패턴           |  중간  |  중간  |
  |  5   | DataSharingSettings 구현 |  높음  |  중간  |
  |  6   | 템플릿 분리              |  높음  |  낮음  |

  7. 주요 발견 사항

  1. 개인 인사카드는 이력정보 섹션이 완전히 누락됨
    - 학력, 경력, 자격증, 언어능력, 병역, 수상, 프로젝트 전무
    - 개인 계정의 프로필 데이터와 연동되지 않음
  2. 필드명 및 구조 불일치
    - 소속정보: 개인은 회사 관점(사업자번호, 회사주소), 법인은 직원 관점(소속, 재직기간)
    - 급여지급: 컬럼 수 차이(6 vs 10)
  3. 데이터 소스 차이
    - 개인: contract, company 객체 사용
    - 법인: employee, salary, benefit, insurance 객체 사용
  4. 누락된 데이터 변수 (개인 인사카드)
    - contract_history_list, salary_history_list, payment_history_list
    - personnel_movement_list, evaluation_list, training_list
    - 백엔드에서 전달되지 않아 빈 테이블만 표시




css, js, html 구조화 리팩토링
법인 직원등록시 계정도 함께등록



"법인, 법인 직원계정, 개인개정 3개의 계정에서
프로필, 인사카드의 상세페이지, 수정페이지의 섹션, 섹션내 필드, 칼럼의 수와 순서가 동일한지 모두 비교하여 피드백하고
네이밍 및 라벨도 비교하여 모두 세부적으로 조사하여라."



법인 직원 인사카드는 _basic_info.html과 _hr_records.html 파셜을 사용하는데, 개인 인사카드는 커스텀 섹션을 사용합니다. 파셜 내용을 확인하겠습니다.



법인관리자 인사카드 헤더 
인사카드 헤더와 프로필헤더 다지인 및 스타일 변경

첨부파일 사이드바


  1. 수정 버튼 - 개인 계정에서 인사카드 수정 불가
  2. 명함 기능 - 명함 표시/업로드 기능 없음
  3. 첨부파일 사이드바 - 첨부문서 관리 기능 없음
  4. 일부 CSS/JS - 관련 리소스 미로드



법인직원 계약관련

섹션에서 카드를 사용한 섹션과 테이블을 사용한 섹션이 혼합되어 있다. 법인 직원 프로필 섹션 기준으로 프로필 및 인사카드를 모두 비교하여 피드백하여라.



 3. 첨부파일 사이드바 - 첨부문서 관리 기능 없음
 "첨부파일 사이드바의 경우 프로필과 인사카드에 포함되어야한다. 
 프로필은 수정삭제 및 업로드가 가능하지만 인사카드의 경우 조회만 가능하게 해야함.
 조회만 가능한 이유는 본인이 계약시점에 어떤서류를 제출했고 공유했는지 알수 있어야 하며, 개인 프로필로 하여 수정하여 제출 및 동기화 통해 법인에게 정상적인 과정으로 제출하는 프로세스이다.
 우선 각 계정의 프로필과 인사카드를 비교하여 분석검토하여라."


읜존성 및 구조화
복잡하게 중복, 중첩 코딩
스파게티코드, 레거시 코드드


구조화 
미사용 코드 및 클래스
일관된 주석처리
미사용 파일 
중앙화와 일반화 구조

Inline 금지
soc
modular
convention 준수수
네이밍 스페이스, 네이밍

코드 재정의


re-check



"모든 계정의 수정 및 등록 페이지에서 섹션에 추가 필드시 초기 세팅되어 있는 필드와 추가되는 필드수가 동일하지 않다. 
직원 상세 정보 프로필 수정의 사진 업로드 기능이 되지 않는다.
직원 등록 페이지에서 프로필 사진과 명함을 등록할수 있게 하여라.
직원 등록 페이지에서 계약정보, 소속정보, 급여정보, 4대보험등 섹션이 사라졌다. 
직원현황 및 대시보드에서 내보내기 버튼기능과 최근등록직원 클릭이되지 않는다.
ai, api을 설정오류를 수정하여 진행할 수 있게하여라.
위내용을 체크하고 수정하여라."




- 위 작업시 인라인으로 작업한 기능을 soc, modular 으로 적용하여라.
- 직원 등록시 명함등록은 구현되지 않았다. 기존의 구현한 것을 찾아서 적용하여라.
- 위 직원등록시 연차 및 복리 후생 섹션은 노출하지 비활성화하여라. <> 숨길지 비활성활 할지 제안
- 위 최근 직원등록 위젯 수정시 스탕일이 일부 깨진 상황이 발생하였다. 이를 체크하고 수정하여라. 이미지첨부
- 폰트 및 언더바가 생기는 등의 문제 기타.
- apikey AIzaSyCSCDmqfiQKVXtKQJZ_9FZFvheS7U-y7TE 로 적용하로 깃 진행시 포함되는지 확인하여라.


- 스타일이 누락된것인지 삭제된것인지 기존의 스타일은 있었으나 클래스 이름 

스캔



js, py 기능 분리가 명확한지 검토하여라.



단일 책임 원칙 (SRP - Single Responsibility Principle)
하나의 함수/클래스/모듈은 하나의 변경 이유만 가져야 함
예: 사용자 인증 함수는 인증만, UI 렌더링은 별도로
관심사의 분리 (SoC - Separation of Concerns)
비즈니스 로직, 데이터 처리, UI가 명확히 분리
예: Python(백엔드 로직) ↔ JavaScript(프론트엔드 상호작용)
모듈화 (Modularity)
독립적이고 재사용 가능한 단위로 구성
예: _form_controls.html, _alerts.html 같은 매크로
당신의 문서 맥락에서:
"js, py 기능 분리가 명확한지 검토" → 각 언어가 자신의 책임(서버 로직 vs 클라이언트 상호작용)만 담당하는지 확인
"soc, modular" → 각 컴포넌트가 명확한 책임을 가지고 독립적으로 동작
CSS 중복 제거 → 각 스타일 파일이 특정 컴포넌트/레이아웃에 대한 책임만 가짐
결과: 유지보수성 향상, 버그 감소, 테스트 용이성 증가


 js, py 백엔드 프론트엔드